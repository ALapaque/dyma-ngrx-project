"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[944],{7436:function(It,F){var C=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,x=/\\([\u000b\u0020-\u00ff])/g,$=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;function G(i){this.parameters=Object.create(null),this.type=i}F.Q=function(i){if(!i)throw new TypeError("argument string is required");var s="object"==typeof i?function(i){var s;if("function"==typeof i.getHeader?s=i.getHeader("content-type"):"object"==typeof i.headers&&(s=i.headers&&i.headers["content-type"]),"string"!=typeof s)throw new TypeError("content-type header is missing from object");return s}(i):i;if("string"!=typeof s)throw new TypeError("argument string is required to be a string");var f=s.indexOf(";"),d=-1!==f?s.substr(0,f).trim():s.trim();if(!$.test(d))throw new TypeError("invalid media type");var v=new G(d.toLowerCase());if(-1!==f){var T,u,E;for(C.lastIndex=f;u=C.exec(s);){if(u.index!==f)throw new TypeError("invalid parameter format");f+=u[0].length,T=u[1].toLowerCase(),'"'===(E=u[2])[0]&&(E=E.substr(1,E.length-2).replace(x,"$1")),v.parameters[T]=E}if(f!==s.length)throw new TypeError("invalid parameter format")}return v}},9944:function(It,F,c){c.r(F),c.d(F,{PhotosModule:function(){return re}});var C=c(4872),A=c(3395),R=c(1671),x=c(269),z=c(8318),$=c(5498),k=(c(3970),c(6599)),U=c(9996),G=c(7436);function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function s(t,e){if(null==t)return{};var o,a,n={},r=Object.keys(t);for(a=0;a<r.length;a++)!(e.indexOf(o=r[a])>=0)&&(n[o]=t[o]);return n}var f=v(function(t){return"string"==typeof t?t:null}),d=function(e){return null!=e};function v(t){return function(e){return d(t(e))}}var u=function(e){return Object.keys(e).reduce(function(n,r){var o,a=e[r];return i({},n,d(a)?((o={})[r]=a,o):{})},{})};function E(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.length-1;return function(){for(var o=arguments.length,a=new Array(o),P=0;P<o;P++)a[P]=arguments[P];for(var I=e[0].apply(this,a),w=1;w<=r;w++)I=e[w].call(this,I);return I}}var St=v(function(t){return d(t)&&"object"==typeof t&&!Array.isArray(t)?t:null}),wt=v(function(t){return Array.isArray(t)&&t.every(f)&&t.length>0?t:null}),Tt=v(function(t){return St(t)&&"errors"in t&&wt(t.errors)?{errors:t.errors}:null}),q=function(e){this.message=e},K=function(e){if(function(e){var n=e.headers.get("content-type");return d(n)&&"application/json"===(0,G.Q)(n).type}(e))return e.json().catch(function(n){throw new q("unable to parse JSON response.")});throw new q("expected JSON response from server.")},m=function(){return function(e){return K(e.response)}},p=function(e){return function(n,r){void 0===r&&(r={});var o=e(n),a=o.headers,P=o.query;return i({},s(o,["headers","query"]),r,{query:P,headers:i({},a,r.headers)})}},l=function(e){return e},Nt=function(e){var n=e.accessKey,r=e.apiVersion,o=void 0===r?"v1":r,a=e.apiUrl,P=void 0===a?"https://api.unsplash.com":a,I=e.headers,w=e.fetch,X=s(e,["accessKey","apiVersion","apiUrl","headers","fetch"]);return function(Rt){var oe=Rt.handleResponse;return E(Rt.handleRequest,function(g){var Et=g.method,ce=void 0===Et?"GET":Et,ue=g.headers,he=g.body,le=g.signal,pe=function(e){var n=e.pathname,r=e.query;return function(o){var a=new URL(o);return function(e){return function(n){"/"===n.pathname?n.pathname=e:n.pathname+=e}}(n)(a),function(e){return function(n){Object.keys(e).forEach(function(r){return n.searchParams.set(r,e[r].toString())})}}(r)(a),a.toString()}}({pathname:g.pathname,query:g.query})(P),de=i({method:ce,headers:i({},I,ue,{"Accept-Version":o},d(n)?{Authorization:"Client-ID "+n}:{}),body:he,signal:le},X);return(null!=w?w:fetch)(pe,de).then(function(e){return function(n){return(n.ok?e({response:n}).then(function(r){return{type:"success",status:n.status,response:r,originalResponse:n}}):K(n).then(function(r){return i({type:"error",status:n.status},function(e){return Tt(e)?{errors:e.errors,source:"api"}:{errors:["Responded with a status code outside the 2xx range, and the response body is not recognisable."],source:"decoding"}}(r),{originalResponse:n})})).catch(function(r){if(r instanceof q)return{type:"error",source:"decoding",status:n.status,originalResponse:n,errors:[r.message]};throw r})}}(oe))})}},Q="x-total",jt=function(e){var n=e.headers.get(Q);if(d(n)){var r=parseInt(n);if(Number.isInteger(r))return r;throw new q("expected "+Q+" header to be valid integer.")}throw new q("expected "+Q+" header to exist.")},S=function(){return function(e){var n=e.response;return m()({response:n}).then(function(r){return{results:r,total:jt(n)}})}},J=function(e){return d(e)?{collections:e.join()}:{}},xt=function(e){return d(e)?{topics:e.join()}:{}},y=function(e){return u({per_page:e.perPage,order_by:e.orderBy,page:e.page})},H="/collections",Y=function(){var t=function(n){return H+"/"+n.collectionId+"/photos"};return{getPathname:t,handleRequest:p(function(e){var n=e.collectionId,r=e.orientation,o=s(e,["collectionId","orientation"]);return{pathname:t({collectionId:n}),query:u(i({},y(o),{orientation:r}))}}),handleResponse:S()}}(),V=function(){var t=function(n){return H+"/"+n.collectionId};return{getPathname:t,handleRequest:p(function(e){return{pathname:t({collectionId:e.collectionId}),query:{}}}),handleResponse:m()}}(),Z=function(){var t=function(){return H};return{getPathname:t,handleRequest:p(function(e){return void 0===e&&(e={}),{pathname:t(),query:y(e)}}),handleResponse:S()}}(),W=function(){var t=function(n){return H+"/"+n.collectionId+"/related"};return{getPathname:t,handleRequest:p(function(e){return{pathname:t({collectionId:e.collectionId}),query:{}}}),handleResponse:m()}}(),b="/photos",_=function(){return{getPathname:function(n){return b},handleRequest:p(function(e){return void 0===e&&(e={}),{pathname:b,query:u(y(e))}}),handleResponse:S()}}(),L=function(){var t=function(n){return b+"/"+n.photoId};return{getPathname:t,handleRequest:p(function(e){return{pathname:t({photoId:e.photoId}),query:{}}}),handleResponse:m()}}(),tt=function(){var t=function(n){return b+"/"+n.photoId+"/statistics"};return{getPathname:t,handleRequest:p(function(e){return{pathname:t({photoId:e.photoId}),query:{}}}),handleResponse:m()}}(),et=function(){var t=function(){return b+"/random"};return{getPathname:t,handleRequest:p(function(e){var n=void 0===e?{}:e,r=n.collectionIds,o=n.contentFilter,a=n.topicIds,P=s(n,["collectionIds","contentFilter","topicIds"]);return{pathname:t(),query:u(i({},P,{content_filter:o},J(r),xt(a))),headers:{"cache-control":"no-cache"}}}),handleResponse:m()}}(),nt={handleRequest:p(function(t){var n=function(e){var n=new URL(e),r=n.pathname;return{query:function(e){var n={};return e.forEach(function(r,o){n[o]=r}),n}(n.searchParams),pathname:"/"===r?void 0:r}}(t.downloadLocation),r=n.pathname,o=n.query;if(!d(r))throw new Error("Could not parse pathname from url.");return{pathname:r,query:u(o)}}),handleResponse:m()},B="/search",rt=function(){var t=function(){return B+"/photos"};return{getPathname:function(n){return t()},handleRequest:p(function(e){var n=e.query,r=e.page,o=e.perPage,a=e.orderBy,P=e.collectionIds,I=e.lang,w=e.contentFilter,X=s(e,["query","page","perPage","orderBy","collectionIds","lang","contentFilter"]);return{pathname:t(),query:u(i({query:n,content_filter:w,lang:I,order_by:a},y({page:r,perPage:o}),J(P),X))}}),handleResponse:m()}}(),ot=function(){var t=function(){return B+"/collections"};return{getPathname:function(n){return t()},handleRequest:p(function(e){var n=e.query,r=s(e,["query"]);return{pathname:t(),query:i({query:n},y(r))}}),handleResponse:m()}}(),at=function(){var t=function(){return B+"/users"};return{getPathname:function(n){return t()},handleRequest:p(function(e){var n=e.query,r=s(e,["query"]);return{pathname:t(),query:i({query:n},y(r))}}),handleResponse:m()}}(),N="/users",it=function(){var t=function(n){return N+"/"+n.username};return{getPathname:t,handleRequest:p(function(e){return{pathname:t({username:e.username}),query:{}}}),handleResponse:m()}}(),st=function(){var t=function(n){return N+"/"+n.username+"/photos"};return{getPathname:t,handleRequest:p(function(e){var n=e.username,r=e.stats,o=e.orientation,a=s(e,["username","stats","orientation"]);return{pathname:t({username:n}),query:u(i({},y(a),{orientation:o,stats:r}))}}),handleResponse:S()}}(),ct=function(){var t=function(n){return N+"/"+n.username+"/likes"};return{getPathname:t,handleRequest:p(function(e){var n=e.username,r=e.orientation,o=s(e,["username","orientation"]);return{pathname:t({username:n}),query:u(i({},y(o),{orientation:r}))}}),handleResponse:S()}}(),ut=function(){var t=function(n){return N+"/"+n.username+"/collections"};return{getPathname:t,handleRequest:p(function(e){var n=e.username,r=s(e,["username"]);return{pathname:t({username:n}),query:y(r)}}),handleResponse:S()}}(),ht="/topics",j=function(e){return ht+"/"+e.topicIdOrSlug},lt=l({getPathname:j,handleRequest:function(e){var o=e.orderBy,a=e.topicIdsOrSlugs;return{pathname:ht,query:u(i({},y({page:e.page,perPage:e.perPage}),{ids:null==a?void 0:a.join(","),order_by:o}))}},handleResponse:S()}),pt=l({getPathname:j,handleRequest:function(e){return{pathname:j({topicIdOrSlug:e.topicIdOrSlug}),query:{}}},handleResponse:m()}),dt=function(){var t=E(j,function(e){return e+"/photos"});return{getPathname:t,handleRequest:function(n){var r=n.topicIdOrSlug,o=n.orientation,a=s(n,["topicIdOrSlug","orientation"]);return{pathname:t({topicIdOrSlug:r}),query:u(i({},y(a),{orientation:o}))}},handleResponse:S()}}(),Bt=E(Nt,function(t){return{photos:{get:t(L),list:t(_),getStats:t(tt),getRandom:t(et),trackDownload:t(nt)},users:{getPhotos:t(st),getCollections:t(ut),getLikes:t(ct),get:t(it)},search:{getCollections:t(ot),getPhotos:t(rt),getUsers:t(at)},collections:{getPhotos:t(Y),get:t(V),list:t(Z),getRelated:t(W)},topics:{list:t(lt),get:t(pt),getPhotos:t(dt)}}}),Xt=c(529),h=c(6758),ft=function(){function t(){this.API=Bt({accessKey:Xt.N.UNSPLASH_ACCESS_KEY})}return t.prototype.getPhotos=function(e){return function(t,e){return new z.y((0,$.A)(t))}(this.API.search.getPhotos({query:e,page:0,perPage:1e3}).then(function(n){return n.response.results})).pipe((0,k.b)(console.log),(0,U.U)(function(n){return n.map(function(r){return{url:r.urls.small}})}))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac=function(n){return new(n||t)}}),t}(),vt=(0,R.ZF)("photos"),Kt=(0,R.P1)(vt,function(t){var e;return null!==(e=null==t?void 0:t.filter)&&void 0!==e?e:null}),Jt=(0,R.P1)(vt,function(t){var e;return null!==(e=null==t?void 0:t.photos)&&void 0!==e?e:null}),mt=c(1116);function Yt(t,e){if(1&t&&(h.ynx(0),h._UZ(1,"img",1),h.BQk()),2&t){var n=e.$implicit;h.xp6(1),h.Q6J("src",n.url,h.LSH)}}var Vt=[{path:"",component:function(){function t(e){this.store=e}return t.prototype.ngOnInit=function(){this.photos$=this.store.select(Jt)},t.\u0275fac=function(n){return new(n||t)(h.Y36(R.yh))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-photos"]],decls:2,vars:3,consts:[[4,"ngFor","ngForOf"],[3,"src"]],template:function(n,r){1&n&&(h.YNc(0,Yt,2,1,"ng-container",0),h.ALo(1,"async")),2&n&&h.Q6J("ngForOf",h.lcZ(1,1,r.photos$))},directives:[mt.sg],pipes:[mt.Ov],styles:[""]}),t}()}],Zt=c(7701),yt=c(4689),Wt=c(611),_t=c(7550),Lt=function(){function t(e,n,r){var o=this;this.actions$=e,this.store=n,this.photosService=r,this.fetchPhotos$=(0,A.GW)(function(){return o.actions$.pipe((0,A.l4)("[photos] try fetch photos"),(0,Zt.b)(1e3),(0,yt.w)(function(){return o.store.pipe((0,R.Ys)(Kt),(0,Wt.q)(1))}),(0,yt.w)(function(a){return o.photosService.getPhotos(a)}),(0,U.U)(function(a){return new _t.bI(a)}))})}return t.\u0275fac=function(n){return new(n||t)(h.LFG(A.eX),h.LFG(R.yh),h.LFG(ft))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),t}(),O=function(){return(O=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ee=[x.x,C.Bz.forChild(Vt),R.Aw.forFeature("photos",function(t,e){switch(e.type){case"[photos] set filter":return O(O({},t),{filter:e.payload});case"[photos] fetch photos success":return O(O({},t),{photos:e.payload});default:return t}}),A.sQ.forFeature([Lt])],ne=[ft],re=function(){function t(){}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({providers:ne,imports:[ee]}),t}()}}]);